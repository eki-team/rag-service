{
  "info": {
    "name": "NASA RAG Service - Enhanced",
    "description": "Colección Postman actualizada para el servicio RAG de biología espacial con nuevos endpoints de gestión de documentos",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "item": [
    {
      "name": "📱 Chat & RAG",
      "item": [
        {
          "name": "Chat - Simple Query",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"What are the effects of microgravity on mice?\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/chat",
              "host": ["{{base_url}}"],
              "path": ["api", "chat"]
            },
            "description": "Query simple sin filtros. Respuesta con citaciones mejoradas de 26 campos."
          }
        },
        {
          "name": "Chat - Con Filtros de Categoría",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"How does spaceflight affect immune response?\",\n  \"filters\": {\n    \"category\": \"science\"\n  },\n  \"top_k\": 8\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/chat",
              "host": ["{{base_url}}"],
              "path": ["api", "chat"]
            },
            "description": "Query con filtro de categoría (science, space, physics, etc)."
          }
        },
        {
          "name": "Chat - Con Filtros de Tags",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"What are the biological effects of space radiation?\",\n  \"filters\": {\n    \"tags\": [\"radiation\", \"microgravity\", \"cells\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/chat",
              "host": ["{{base_url}}"],
              "path": ["api", "chat"]
            },
            "description": "Query con filtros de tags específicos."
          }
        }
      ]
    },
    {
      "name": "📄 Document Management",
      "item": [
        {
          "name": "Get Document by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/documents/68e1ba390d50970aeef2b527",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "documents", "68e1ba390d50970aeef2b527"]
            },
            "description": "📄 Obtener documento completo por su _id de MongoDB, incluyendo todos sus chunks y metadatos."
          }
        },
        {
          "name": "Documents - Paginated",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/documents/paginated?page=1&page_size=20&category=space",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "documents", "paginated"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Número de página (empezando en 1)"
                },
                {
                  "key": "page_size",
                  "value": "20",
                  "description": "Documentos por página (1-100)"
                },
                {
                  "key": "category",
                  "value": "space",
                  "description": "Filtro opcional por categoría"
                }
              ]
            },
            "description": "📄 Paginación mejorada de documentos con filtros opcionales."
          }
        },
        {
          "name": "Documents by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/documents/by-category?category=space&skip=0&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "documents", "by-category"],
              "query": [
                {
                  "key": "category",
                  "value": "space",
                  "description": "Categoría: general, mission, nasa, physics, planets, science, space, technology"
                },
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "🏷️ Búsqueda de documentos por categoría específica."
          }
        },
        {
          "name": "Documents by Tags (ANY)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/documents/by-tags?tags=microgravity,bone,mice&match_all=false&skip=0&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "documents", "by-tags"],
              "query": [
                {
                  "key": "tags",
                  "value": "microgravity,bone,mice"
                },
                {
                  "key": "match_all",
                  "value": "false"
                },
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "🏷️ Búsqueda de documentos que tengan AL MENOS uno de los tags."
          }
        },
        {
          "name": "Documents by Tags (ALL)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/documents/by-tags?tags=science,space&match_all=true&skip=0&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "documents", "by-tags"],
              "query": [
                {
                  "key": "tags",
                  "value": "science,space"
                },
                {
                  "key": "match_all",
                  "value": "true"
                },
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "🏷️ Búsqueda de documentos que tengan TODOS los tags."
          }
        }
      ]
    },
    {
      "name": "📊 Metadata & Filters",
      "item": [
        {
          "name": "Get Filter Values",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/filter-values",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "filter-values"]
            },
            "description": "📊 Obtener valores disponibles para filtros: categorías (8), tags (60+), totales."
          }
        },
        {
          "name": "Get Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/front/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "front", "stats"]
            },
            "description": "📊 Estadísticas generales: total documentos (536), chunks (22,674)."
          }
        }
      ]
    },
    {
      "name": "🔧 Diagnostics",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/diag/health",
              "host": ["{{base_url}}"],
              "path": ["diag", "health"]
            },
            "description": "🔧 Verifica el estado del servicio."
          }
        },
        {
          "name": "Test Retrieval",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"What are the effects of microgravity?\",\n  \"top_k\": 5\n}"
            },
            "url": {
              "raw": "{{base_url}}/diag/retrieval",
              "host": ["{{base_url}}"],
              "path": ["diag", "retrieval"]
            },
            "description": "🔧 Test de retrieval sin síntesis LLM."
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    }
  ]
}
